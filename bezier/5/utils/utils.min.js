(function(c){function b(a,e,b){for(var d=a.length,c=e.length,g,l,m,p,k,f={x:0,y:0},i=0;i<d;i++){g=a[i];l=a[i<d-1?i+1:0];f.x=g.x-l.x;f.y=l.y-g.y;g=Math.sqrt(f.x*f.x+f.y*f.y);f.x/=g;f.y/=g;g=l=a[0].x*f.x+a[0].y*f.y;for(var j=1;j<d;j++)k=a[j].x*f.x+a[j].y*f.y,k>l?l=k:k<g&&(g=k);m=p=e[0].x*f.x+e[0].y*f.y;for(j=1;j<c;j++)k=e[j].x*f.x+e[j].y*f.y,k>p?p=k:k<m&&(m=k);g<m?(g=m-l,f.x=-f.x,f.y=-f.y):g-=p;if(g>=0)return!1;else if(g>b.overlap)b.overlap=g,b.normal.x=f.x,b.normal.y=f.y}return b}var a=c.Quark=c.Quark||
{version:"1.0.0",global:c},d=function(){};a.inherit=function(a,b){d.prototype=b.prototype;a.superClass=b.prototype;a.prototype=new d;a.prototype.constructor=a};a.merge=function(a,b,d){for(var c in b)if(!d||a.hasOwnProperty(c)||a[c]!==void 0)a[c]=b[c];return a};a.delegate=function(a,b){var d=b||c;if(arguments.length>2){var o=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.concat.apply(o,arguments);return a.apply(d,b)}}else return function(){return a.apply(d,arguments)}};
a.getDOM=function(a){return document.getElementById(a)};a.createDOM=function(a,b){var d=document.createElement(a),c;for(c in b){var q=b[c];if(c=="style")for(var g in q)d.style[g]=q[g];else d[c]=q}return d};a.use=function(a){for(var a=a.split("."),b=c,d=0;d<a.length;d++)var o=a[d],b=b[o]||(b[o]={});return b};(function(a){var b=a.ua=navigator.userAgent;a.isWebKit=/webkit/i.test(b);a.isMozilla=/mozilla/i.test(b);a.isIE=/msie/i.test(b);a.isFirefox=/firefox/i.test(b);a.isChrome=/chrome/i.test(b);a.isSafari=
/safari/i.test(b)&&!this.isChrome;a.isMobile=/mobile/i.test(b);a.isOpera=/opera/i.test(b);a.isIOS=/ios/i.test(b);a.isIpad=/ipad/i.test(b);a.isIpod=/ipod/i.test(b);a.isIphone=/iphone/i.test(b)&&!this.isIpod;a.isAndroid=/android/i.test(b);a.supportStorage="localStorage"in c;a.supportOrientation="orientation"in c;a.supportDeviceMotion="ondevicemotion"in c;a.supportTouch="ontouchstart"in c;a.cssPrefix=a.isWebKit?"webkit":a.isFirefox?"Moz":a.isOpera?"O":a.isIE?"ms":""})(a);a.getElementOffset=function(a){for(var b=
a.offsetLeft,d=a.offsetTop;(a=a.offsetParent)&&a!=document.body&&a!=document;)b+=a.offsetLeft,d+=a.offsetTop;return{left:b,top:d}};a.DEG_TO_RAD=Math.PI/180;a.RAD_TO_DEG=180/Math.PI;a.hitTestPoint=function(a,b,d,c){var a=a.getBounds(),q=a.length,g=b>=a.x&&b<=a.x+a.width&&d>=a.y&&d<=a.y+a.height;if(g&&c){for(var c=0,g=!1,l,m,p,k,f=0;f<q;f++){var i=a[f],j=a[(f+1)%q];if(i.y==j.y&&d==i.y&&(i.x>j.x?(l=j.x,m=i.x):(l=i.x,m=j.x),b>=l&&b<=m)){g=!0;continue}i.y>j.y?(p=j.y,k=i.y):(p=i.y,k=j.y);d<p||d>k||(i=(d-
i.y)*(j.x-i.x)/(j.y-i.y)+i.x,i>b?c++:i==b&&(g=!0))}if(g)return 0;else if(c%2==1)return 1;return-1}return g?1:-1};a.hitTestObject=function(b,d,c){b=b.getBounds();d=d.getBounds();return(b=b.x<=d.x+d.width&&d.x<=b.x+b.width&&b.y<=d.y+d.height&&d.y<=b.y+b.height)&&c?(b=a.polygonCollision(d,d),b!==!1):b};a.polygonCollision=function(a,d){var c=b(a,d,{overlap:-Infinity,normal:{x:0,y:0}});return c?b(d,a,c):!1};a.trace=function(){console.log.apply(console,arguments)};if(c.Q==void 0)c.Q=a;if(c.trace==void 0)c.trace=
a.trace})(window);(function(c){var b=c.Vector=function(a,b){this.x=a||0;this.y=b||0};b.prototype.reset=function(a,b){this.x=a;this.y=b};b.prototype.getClone=function(){return new b(this.x,this.y)};b.prototype.cut=function(a){this.setLength(Math.min(a,this.getLength()))};b.prototype.cutNew=function(a){var a=Math.min(a,this.getLength()),b=this.getClone();b.setLength(a);return b};b.prototype.equals=function(a){return this.x==a.x&&this.y==a.y};b.prototype.plus=function(a){this.x+=a.x;this.y+=a.y};b.prototype.plusNew=function(a){return new b(this.x+
a.x,this.y+a.y)};b.prototype.minus=function(a){this.x-=a.x;this.y-=a.y};b.prototype.minusNew=function(a){return new b(this.x-a.x,this.y-a.y)};b.prototype.negate=function(){this.x=-this.x;this.y=-this.y};b.prototype.negateNew=function(){return new b(-this.x,-this.y)};b.prototype.scale=function(a){this.x*=a;this.y*=a};b.prototype.scaleNew=function(a){return new b(this.x*a,this.y*a)};b.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};b.prototype.setLength=function(a){var b=
this.getLength();b?this.scale(a/b):this.x=a};b.prototype.getAngle=function(){return Math.atan2(this.y,this.x)};b.prototype.setAngle=function(a){var b=this.getLength();this.x=b*Math.cos(a);this.y=b*Math.sin(a)};b.prototype.rotate=function(a){var b=Math.cos(a),a=Math.sin(a),c=this.x*a+this.y*b;this.x=this.x*b-this.y*a;this.y=c};b.prototype.rotateNew=function(a){var d=new b(this.x,this.y);d.rotate(a);return d};b.prototype.dot=function(a){return this.x*a.x+this.y*a.y};b.prototype.getNormal=function(){return new b(-this.y,
this.x)};b.prototype.isPerpTo=function(a){return this.dot(a)==0};b.prototype.angleBetween=function(a){a=this.dot(a)/(this.getLength()*a.getLength());return Math.acos(a)}})(window);(function(){var c=Quark.Timer=function(b){this.interval=b||50;this.paused=!1;this.info={lastTime:0,currentTime:0,deltaTime:0,realDeltaTime:0};this._startTime=0;this._intervalID=null;this._listeners=[]};c.prototype.start=function(){if(this._intervalID==null){this._startTime=this.info.lastTime=this.info.currentTime=Date.now();var b=this,a=function(){b._intervalID=setTimeout(a,b.interval);b._run()};a()}};c.prototype.stop=function(){clearTimeout(this._intervalID);this._intervalID=null;this._startTime=
0};c.prototype.pause=function(){this.paused=!0};c.prototype.resume=function(){this.paused=!1};c.prototype._run=function(){if(!this.paused){var b=this.info,a=b.currentTime=Date.now();b.deltaTime=b.realDeltaTime=a-b.lastTime;for(var d=0,c=this._listeners.length,e,n;d<c;d++)e=this._listeners[d],n=e.__runTime||0,n==0?e.step(this.info):a>n&&(e.step(this.info),this._listeners.splice(d,1),d--,c--);b.lastTime=a}};c.prototype.delay=function(b,a){this.addListener({step:b,__runTime:Date.now()+a})};c.prototype.addListener=
function(b){if(b==null||typeof b.step!="function")throw"Timer Error: The listener object must implement a step() method!";this._listeners.push(b)};c.prototype.removeListener=function(b){b=this._listeners.indexOf(b);b>-1&&this._listeners.splice(b,1)}})();(function(){var c=Quark.Tween=function(a,d,c){this.target=a;this.delay=this.time=0;this.reverse=this.loop=this.paused=!1;this.interval=0;this.ease=b.Linear.EaseNone;this.onComplete=this.onUpdate=this.onStart=this.next=null;this._oldProps={};this._newProps={};this._deltaProps={};this._pausedStartTime=this._pausedTime=this._lastTime=this._startTime=0;this._reverseFlag=1;this._frameCount=this._frameTotal=0;for(var e in d){var n=a[e],o=d[e];n!==void 0&&typeof n=="number"&&typeof o=="number"&&(this._oldProps[e]=
n,this._newProps[e]=o,this._deltaProps[e]=o-n)}for(e in c)this[e]=c[e]};c.prototype.setProps=function(a,b){for(var c in a)this.target[c]=this._oldProps[c]=a[c];for(c in b)this._newProps[c]=b[c],this._deltaProps[c]=b[c]-this.target[c]};c.prototype._init=function(){this._startTime=Date.now()+this.delay;this._pausedTime=0;if(this.interval>0)this._frameTotal=Math.round(this.time/this.interval);c.add(this)};c.prototype.start=function(){this._init();this.paused=!1};c.prototype.stop=function(){c.remove(this)};
c.prototype.pause=function(){this.paused=!0;this._pausedStartTime=Date.now()};c.prototype.resume=function(){this.paused=!1;this._pausedTime+=Date.now()-this._pausedStartTime};c.prototype._update=function(){if(!this.paused){var a=Date.now(),b=a-this._startTime-this._pausedTime;if(!(b<0)){if(this._lastTime==0&&this.onStart!=null)this.onStart(this);this._lastTime=a;a=this._frameTotal>0?++this._frameCount/this._frameTotal:b/this.time;a>1&&(a=1);var b=this.ease(a),h;for(h in this._oldProps)this.target[h]=
this._oldProps[h]+this._deltaProps[h]*this._reverseFlag*b;if(this.onUpdate!=null)this.onUpdate(this,b);if(a>=1){if(this.reverse){if(h=this._oldProps,this._oldProps=this._newProps,this._newProps=h,this._startTime=Date.now(),this._frameCount=0,this._reverseFlag*=-1,!this.loop)this.reverse=!1}else if(this.loop){for(h in this._oldProps)this.target[h]=this._oldProps[h];this._startTime=Date.now();this._frameCount=0}else if(c.remove(this),h=this.next,h!=null&&(h instanceof c?(a=h,h=null):a=h.shift(),a!=
null))a.next=h,a.start();if(this.onComplete!=null)this.onComplete(this)}}}};c._tweens=[];c.step=function(){for(var a=this._tweens,b=a.length;--b>=0;)a[b]._update()};c.add=function(a){this._tweens.indexOf(a)==-1&&this._tweens.push(a);return this};c.remove=function(a){var b=this._tweens,a=b.indexOf(a);a>-1&&b.splice(a,1);return this};c.to=function(a,b,h){a=new c(a,b,h);a._init();return a};c.from=function(a,b,h){b=new c(a,b,h);h=b._oldProps;b._oldProps=b._newProps;b._newProps=h;b._reverseFlag=-1;for(var e in b._oldProps)a[e]=
b._oldProps[e];b._init();return b};var b=Quark.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}};b.Linear.EaseNone=function(a){return a};b.Quadratic.EaseIn=function(a){return a*a};b.Quadratic.EaseOut=function(a){return-a*(a-2)};b.Quadratic.EaseInOut=function(a){return(a*=2)<1?0.5*a*a:-0.5*(--a*(a-2)-1)};b.Cubic.EaseIn=function(a){return a*a*a};b.Cubic.EaseOut=function(a){return--a*a*a+1};b.Cubic.EaseInOut=function(a){return(a*=
2)<1?0.5*a*a*a:0.5*((a-=2)*a*a+2)};b.Quartic.EaseIn=function(a){return a*a*a*a};b.Quartic.EaseOut=function(a){return-(--a*a*a*a-1)};b.Quartic.EaseInOut=function(a){return(a*=2)<1?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)};b.Quintic.EaseIn=function(a){return a*a*a*a*a};b.Quintic.EaseOut=function(a){return(a-=1)*a*a*a*a+1};b.Quintic.EaseInOut=function(a){return(a*=2)<1?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)};b.Sinusoidal.EaseIn=function(a){return-Math.cos(a*Math.PI/2)+1};b.Sinusoidal.EaseOut=function(a){return Math.sin(a*
Math.PI/2)};b.Sinusoidal.EaseInOut=function(a){return-0.5*(Math.cos(Math.PI*a)-1)};b.Exponential.EaseIn=function(a){return a==0?0:Math.pow(2,10*(a-1))};b.Exponential.EaseOut=function(a){return a==1?1:-Math.pow(2,-10*a)+1};b.Exponential.EaseInOut=function(a){return a==0?0:a==1?1:(a*=2)<1?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2)};b.Circular.EaseIn=function(a){return-(Math.sqrt(1-a*a)-1)};b.Circular.EaseOut=function(a){return Math.sqrt(1- --a*a)};b.Circular.EaseInOut=function(a){return(a/=
0.5)<1?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)};b.Elastic.EaseIn=function(a){var b,c=0.1,e=0.4;if(a==0)return 0;else if(a==1)return 1;else e||(e=0.3);!c||c<1?(c=1,b=e/4):b=e/(2*Math.PI)*Math.asin(1/c);return-(c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*2*Math.PI/e))};b.Elastic.EaseOut=function(a){var b,c=0.1,e=0.4;if(a==0)return 0;else if(a==1)return 1;else e||(e=0.3);!c||c<1?(c=1,b=e/4):b=e/(2*Math.PI)*Math.asin(1/c);return c*Math.pow(2,-10*a)*Math.sin((a-b)*2*Math.PI/e)+1};b.Elastic.EaseInOut=
function(a){var b,c=0.1,e=0.4;if(a==0)return 0;else if(a==1)return 1;else e||(e=0.3);!c||c<1?(c=1,b=e/4):b=e/(2*Math.PI)*Math.asin(1/c);return(a*=2)<1?-0.5*c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*2*Math.PI/e):c*Math.pow(2,-10*(a-=1))*Math.sin((a-b)*2*Math.PI/e)*0.5+1};b.Back.EaseIn=function(a){return a*a*(2.70158*a-1.70158)};b.Back.EaseOut=function(a){return(a-=1)*a*(2.70158*a+1.70158)+1};b.Back.EaseInOut=function(a){return(a*=2)<1?0.5*a*a*(3.5949095*a-2.5949095):0.5*((a-=2)*a*(3.5949095*a+2.5949095)+
2)};b.Bounce.EaseIn=function(a){return 1-b.Bounce.EaseOut(1-a)};b.Bounce.EaseOut=function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375};b.Bounce.EaseInOut=function(a){return a<0.5?b.Bounce.EaseIn(a*2)*0.5:b.Bounce.EaseOut(a*2-1)*0.5+0.5}})();
