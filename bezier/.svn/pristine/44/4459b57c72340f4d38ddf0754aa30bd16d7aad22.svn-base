(function(){function n(){c.clearRect(0,0,640,480);b[0].id+=2;if(b[0].id>g.length-1)b[0].id=0;for(var a=1;a<b.length;a++){b[a].id=b[a-1].id-1;if(b[a].id<0)b[a].id=g.length-1;for(;h.getLength(g[b[a-1].id].p,g[b[a].id].p)<841;)if(b[a].id--,b[a].id<0)b[a].id=g.length-1}for(a=1;a<b.length;a++)b[a].render()}var j=document.createElement("canvas"),c=j.getContext("2d");j.width=640;j.height=480;j.style.position="absolute";document.body.appendChild(j);var h=function(a,d){this.x=a||0;this.y=d||0};h.getLength=
function(a,d){var l=a.x-d.x,b=a.y-d.y;return l*l+b*b};var i=function(){var a=arguments,d=a.length;if(d==2)this.p0=a[0],this.p1=a[1];else if(d==4)this.p0=new h(a[0],a[1]),this.p1=new h(a[2],a[3])};i.prototype.getPoint=function(a){return new h((this.p1.x-this.p0.x)*a+this.p0.x,(this.p1.y-this.p0.y)*a+this.p0.y)};i.prototype.getAngle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)};var k=function(a){var d=a.length;if(d==4)this.p0=a[0],this.p1=a[1],this.p2=a[2],this.p3=a[3];else if(d==
8)this.p0=new h(a[0],a[1]),this.p1=new h(a[2],a[3]),this.p2=new h(a[4],a[5]),this.p3=new h(a[6],a[7]);this.points=[];this.initPoints()};k.prototype.getPoint=function(a){var d=new i((new i((new i(this.p0,this.p1)).getPoint(a),(new i(this.p1,this.p2)).getPoint(a))).getPoint(a),(new i((new i(this.p1,this.p2)).getPoint(a),(new i(this.p2,this.p3)).getPoint(a))).getPoint(a));return{p:d.getPoint(a),a:d.getAngle()}};k.prototype.initPoints=function(){for(var a=0;a<=1;)this.points.push(this.getPoint(a)),a+=
0.0010};k.getArrPoints=function(a,d){var b,e,f,c,d=d*d||1;b=0;f=a.length;for(c=[];b<f;b++)e=a[b].points,c=c.concat(e);a=[];b=0;e=1;for(f=c.length;b<f&&e<f;){for(;e<f-1&&h.getLength(c[b].p,c[e].p)<d;)e++;a.push(c[b]);b=e;e++}return a};var j={testPoints:function(a){for(var d=0,b=a.length;d<b;d++)c.beginPath(),c.arc(a[d].p.x,a[d].p.y,1,0,Math.PI*2),c.fill()},createBeziers:function(a){var b,c,e,f;b=1;c=a.length;for(e=[];b<c;b++)f=[],f.push(a[b-1][4]),f.push(a[b-1][5]),f=new k(f.concat(a[b])),e.push(f);
return e}},g=[[462.8,0.3,462.8,0.3,462.8,0.3],[462.8,0.3,655.8,262.6,607.9,415.6],[607.9,415.6,579,491.6,523,401.8],[523,401.8,487,295.9,467,206.6],[467,206.6,423,-9,211.5,63.6],[98.6,134.9,35.2,350.8,35.2,357.4],[35.2,357.4,24.7,423.4,55.2,428.4],[85.6,433.4,106.2,417.8,116.1,356.9],[116.1,356.9,134.4,99.6,281.9,100.2],[281.9,100.2,402.3,73.3,437,258],[437,258,461,347.3,413,400.6],[365,454,265.7,476,193,388],[120.3,300,215,162,265,169.3]],o=j.createBeziers(g),g=k.getArrPoints(o,1);j.testPoints(g);
var b=[],m=function(){this.angle=this.frame=this.id=0;this.img=document.getElementById(""+parseInt(Math.random()*6+1))};m.prototype.render=function(){this.frame+=2;if(this.frame>45)this.frame=1;if(this.id>g.length-1)this.id=0;c.save();c.translate(g[this.id].p.x,g[this.id].p.y);this.angle=g[this.id].a-Math.PI/2;c.rotate(this.angle);c.beginPath();c.arc(0,0,14,0,Math.PI*2);c.clip();c.drawImage(this.img,0,this.frame*32,32,32,-16,-16,32,32);c.restore()};window.onload=function(){for(var a=0;a<15;a++)b.push(new m(a*
25));setInterval(n,1E3/60)}})();
