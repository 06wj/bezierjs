(function(d){d.trace=function(){console.log.apply(console,arguments)};d.getElementOffset=function(b){for(var a=b.offsetLeft,e=b.offsetTop;(b=b.offsetParent)&&b!=document.body&&b!=document;)a+=b.offsetLeft,e+=b.offsetTop;return{x:a,y:e}};d.getUrlParams=function(){var f;var b={},a=window.location.href,e=a.indexOf("?");if(e>0)for(var a=a.substring(e+1).split("&"),e=0,c;c=a[e];e++)f=a[e]=c.split("="),c=f,b[c[0]]=c.length>1?c[1]:!0;return b}})(window);(function(d){var b=document.createElement("canvas");b.width=b.height=300;(function(a){a.save();a.beginPath();a.moveTo(153,0);a.lineTo(117,110);a.lineTo(135,139);a.lineTo(153,91);a.lineTo(166.2,139);a.lineTo(220,139);a.lineTo(178,168);a.lineTo(195,217);a.lineTo(154,187);a.lineTo(154,223);a.lineTo(249,291);a.lineTo(213,178);a.lineTo(304,111);a.lineTo(190,110);a.lineTo(153,0);a.closePath();a.fillStyle="rgb(222, 90, 46)";a.fill();a.beginPath();a.moveTo(28,278);a.lineTo(49,260);a.bezierCurveTo(49,260,
119,277.7,105,215);a.bezierCurveTo(105,215,90,168.3,46,195);a.bezierCurveTo(46,195,34,206,34,211);a.lineTo(0,111);a.lineTo(117,110);a.lineTo(135,139);a.lineTo(39,139);a.lineTo(47,161);a.bezierCurveTo(47,161,109,140,131,202.5);a.bezierCurveTo(131,202.5,148,246,109,278);a.bezierCurveTo(109,278,80,305,28,278);a.closePath();a.fillStyle="rgb(206, 75, 42)";a.fill();a.restore()})(b.getContext("2d"));d.html5Img=b})(window);(function(d){(d.Particle=function(b,a,e){this.preX=this.x=b;this.preY=this.y=a;this.data=e;this.speedx=this.speedy=0;this.time=0.95}).prototype.update=function(){var b=this.preX-this.x,a=this.preY-this.y,e=Math.sqrt(b*b+a*a),c=mouse.x-this.x,i=mouse.y-this.y,g=Math.sqrt(c*c+i*i);if(g+Math.random()*g<260){if(g)this.time=1,this.speedx+=c/g,this.speedy+=i/g}else e&&(this.speedx+=b/e,this.speedy+=a/e);this.x+=this.speedx*this.time;this.speedx*=this.time;this.y+=this.speedy*this.time;this.speedy*=this.time;
d.speed=5;this.speedy=this.speedy>speed?speed:this.speedy;this.speedx=this.speedx>speed?speed:this.speedx;this.time-=0.0010;b=Math.abs(this.speedx)+Math.abs(this.speedy)+Math.abs(b)+Math.abs(a);if(b<5&&(this.time-=0.1,b<1))this.x=this.preX,this.y=this.preY,this.speedy=this.speedx=0;this.time=Math.max(this.time,0.1)}})(window);(function(d){function b(){j.fillRect(0,0,m,n);for(var a=0,b=o.length;a<b;a++){var c=o[a];j.putImageData(c.data,c.x,c.y);c.update()}}window.onload=function(){c=300;i=m-c>>1;g=n-c>>1;f=f<=1?2:f;k.width=m;k.height=n;document.body.appendChild(k);l=getElementOffset(k);j.fillStyle="rgba(0 ,0, 0, .1)";j.drawImage(e,i,g,c,c);j.getImageData(i,g,c,c);for(var a,d=0,h=c*c/f/f;d<h;d++){a=d%(c/f)*f;for(var q=(d/c*f>>0)*f,r=j.getImageData(i+a,g+q,f,f),s=!0,p=3;p<3*f*f;p+=4)if(r.data[p]>0.5){s=!1;break}s||(a=new Particle(a+
i,q+g,r),o.push(a))}trace(i,g,o.length,1);setInterval(b,1E3/t)};var a=getUrlParams(),e=d.html5Img,c,i,g,f=a.pw||3,l={x:0,y:0},m=600,n=400,k=document.createElement("canvas"),j=k.getContext("2d"),o=[],h=d.mouse={x:0,y:0},t=60;d.onmousemove=function(a){h.x=a.clientX-l.x;h.y=a.clientY-l.y;if(h.x<0||h.x>m)h.x=-1E3;if(h.y<0||h.y>n)h.y=-1E3};d.ontouchmove=function(a){a.preventDefault();h.x=a.touches[0].clientX-l.x;h.y=a.touches[0].clientY-l.y}})(window);
